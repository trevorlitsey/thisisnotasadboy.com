<!DOCTYPE html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="icon" href="../favicon.ico" type="image/ico">
    <title>every love story's a tragedy if you wait long enough</title>
</head>

<body>
    <div class="love"></div>
</body>

<style>
    body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
            Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        font-weight: 200;
        background-color: #fff;
        letter-spacing: 1px;
        overflow: hidden;
        word-break: break-all;
        text-justify: newspaper;
        margin: -3px;
        font-size: 6px;
    }
</style>

<script>
    const text = `every love story's a tragedy if you wait long enough`

    const node = document.querySelector('.love');

    let isInitial = true
    function write(){
        while (node.offsetHeight < window.outerHeight) {
            if (isInitial) {    
                isInitial = false
                node.innerHTML += text.slice(Math.floor(Math.random() * text.length))
            } else {
                node.innerHTML += ' '
                node.innerHTML += text
            }
        }
    }

    window.addEventListener('load', write)
    window.addEventListener('resize', () => {
        node.innerHTML = node.innerHTML.slice(1)
        write()
    })

    setInterval(() => {
        node.innerHTML = node.innerHTML.slice(1)
        if (node.innerHTML[0] === ' ') {
            node.innerHTML = node.innerHTML.slice(1)
        }
        write()
    }, 100)
</script>